<nav class="app-menu" [attr.data-mode]="mode" [class.open]="open">

    <!-- overlay backdrop for tablet/mobile when open -->
    <div class="backdrop" *ngIf="open && mode !== 'desktop'" (click)="closeOverlay()"></div>

    <!-- Expanded area (desktop) or popover/drawer (tablet/mobile) -->
    <div class="menu-inner">
        <div class="brand">
            <div class="brand-icon">{{ open ? 'ğŸŒ' : 'ğŸŒ' }}</div>
            <div class="brand-text" *ngIf="open">My App</div>
            <div class="menu-close" *ngIf="open"> 
                <button class="btn only-content" (click)="closeOverlay()" *ngIf="open && mode !== 'desktop'">
                    <app-icon name="close" color="white"></app-icon>
                </button>
            </div>
        </div>

        <ul class="menu-list">
            <li *ngFor="let m of menuItems" class="menu-item">
                <a [routerLink]="m.relativePath" (click)="closeOverlay()">
                    <app-icon [name]="m.icon ?? ''" color="white"></app-icon>
                    <span class="label" *ngIf="open">{{ m.menuName }}</span>
                </a>
            </li>
        </ul>
    </div>

</nav>