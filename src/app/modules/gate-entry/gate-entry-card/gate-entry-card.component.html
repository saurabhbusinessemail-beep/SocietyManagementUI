<div class="gate-entry-card" [class.expired]="isExpired && gateEntry.status === 'requested'"
    [ngClass]="getGateEntryStatusColorName()" (click)="openDetails.emit()">
    <!-- Header -->
    <div class="gate-entry-header">
        <div>
            <div class="visitor-name">
                {{ gateEntry.visitorName }}
            </div>
            <div class="flat-info">
                Flat {{ gateEntry.flatId?.flatNumber }}
            </div>
        </div>

        <!-- Countdown -->
        <div class="countdown" [class.expired]="isExpired" *ngIf="gateEntry.status === 'requested'">
            {{ remainingSeconds }}s
        </div>
    </div>

    <!-- Purpose -->
    <div class="purpose">
        {{ gateEntry.purpose }}
    </div>

    <!-- Footer -->
    <div class="gate-entry-footer">
        <span class="flat-info">
            {{ gateEntry.societyId?.societyName }}
        </span>

        <button class="btn primary" [disabled]="!isExpired" (click)="onResendClick($event)"
            *ngIf="gateEntry.status === 'requested'">
            <app-icon name="call"></app-icon>
        </button>

        <ui-label [config]="{id: '', label: ''}" valueText="{{gateEntry.status | uppercase}}"
            [valueType]="getGateEntryLabelType(gateEntry)" *ngIf="gateEntry.status !== 'requested'">
        </ui-label>
    </div>
</div>