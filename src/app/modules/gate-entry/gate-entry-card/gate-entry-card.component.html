<div class="gate-entry-card" [class.expired]="isExpired" (click)="openDetails.emit()">
    <!-- Header -->
    <div class="gate-entry-header">
        <div>
            <div class="visitor-name">
                {{ gateEntry.visitorName }}
            </div>
            <div class="flat-info">
                Flat {{ gateEntry.flatId?.flatNumber }}
            </div>
        </div>

        <!-- Countdown -->
        <div class="countdown" [class.expired]="isExpired">
            {{ remainingSeconds }}s
        </div>
    </div>

    <!-- Purpose -->
    <div class="purpose">
        {{ gateEntry.purpose }}
    </div>

    <!-- Footer -->
    <div class="gate-entry-footer">
        <span class="flat-info">
            {{ gateEntry.societyId?.societyName }}
        </span>

        <button class="btn primary" [disabled]="!isExpired" (click)="onResendClick($event)">
            <app-icon name="call"></app-icon>
        </button>
    </div>
</div>