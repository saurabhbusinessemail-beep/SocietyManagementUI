<app-layout [hideMoreActions]="true" [showBackButton]="true">
    <div class="society-details-container">

        <!-- Society Header with Edit Button -->
        <div class="society-header">
            <h2 class="society-name">{{ society?.societyName }}</h2>
            <ui-button type="only-content" label="" (clicked)="gotoEditSociety()" *ngIf="canUpdateSociety">
                <app-icon name="edit"></app-icon>
            </ui-button>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">

            <!-- Admin Card -->
            <div class="dashboard-card">
                <div class="card-header">
                    <span class="card-title">Admins</span>
                    <ui-button label="Manage" type="only-content" *ngIf="canViewAdmin" (clicked)="gotoSocietyAdmins()">
                    </ui-button>
                </div>
                <div class="list">
                    <ui-chip *ngFor="let a of adminIds" [value]="(a.name ?? '') + '' + a.phoneNumber"
                        [crossAction]="canDeleteAdmin" (crossClicked)="removeAdmin(a)">
                    </ui-chip>
                </div>
            </div>

            <!-- Secretaries Card -->
            <div class="dashboard-card">
                <div class="card-header">
                    <span class="card-title">Secretaries</span>
                    <ui-button label="Manage" type="only-content" *ngIf="canViewManager"
                        (clicked)="gotoSocietyManageers()">
                    </ui-button>
                </div>
                <div class="list">
                    <ui-chip *ngFor="let s of managerIds" [value]="(s.name ?? '') + '' + s.phoneNumber"
                        [crossAction]="canDeleteManager" (crossClicked)="removeSecretary(s)">
                    </ui-chip>
                </div>
            </div>

            <!-- Stats Card -->
            <div class="dashboard-card stats-card">
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Buildings</span>
                        <span class="stat-value">{{ society?.numberOfBuildings }}</span>
                        <ui-button label="Manage" type="only-content" *ngIf="canUpdateSociety"
                            (clicked)="gotoBuildingManager()"
                            [disable]="!canViewBuildings || (society?.numberOfBuildings ?? 0) <= 1">
                        </ui-button>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Flats</span>
                        <span class="stat-value">{{ flats.length }}</span>
                        <ui-button label="Manage" type="only-content" [disable]="!canViewFlats"
                            (clicked)="gotoFlatManager()">
                        </ui-button>
                    </div>
                </div>
            </div>

            <!-- Parkings Card -->
            <div class="dashboard-card">
                <div class="card-header">
                    <span class="card-title">Parkings</span>
                    <ui-button label="Manage" type="only-content" *ngIf="canUpdateSociety"
                        (clicked)="gotoParkingManager()">
                    </ui-button>
                </div>
                <div class="badge-container">
                    <div class="badge done">Added: {{ parkings.length }}</div>
                </div>
            </div>

            <!-- Complaints Card -->
            <div class="dashboard-card">
                <div class="card-header">
                    <span class="card-title">Complaints</span>
                    <ui-button label="Manage" type="only-content" *ngIf="canUpdateSociety" (clicked)="gotoComplaints()">
                    </ui-button>
                </div>
                <div class="badge-container">
                    <div class="badge pending">Pending: {{ complaints?.pending }}</div>
                    <div class="badge done">Completed: {{ complaints?.completed }}</div>
                </div>
            </div>

            <!-- Active Features Card -->
            <!-- <div class="dashboard-card">
                <div class="card-header">
                    <span class="card-title">Active Features</span>
                    <ui-button label="Manage" type="only-content" *ngIf="canUpdateSociety">
                    </ui-button>
                </div>
                <div class="features">
                   
                </div>
            </div> -->

        </div> <!-- end dashboard-grid -->

    </div> <!-- end society-details-container -->
</app-layout>