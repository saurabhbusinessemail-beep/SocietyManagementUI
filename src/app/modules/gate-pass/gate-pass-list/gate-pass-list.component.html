<app-layout>

    <ng-container moreActions>
        <ui-button label="Add Pass" type="primary" routerLink="../add">
        </ui-button>
    </ng-container>

    <div class="flex-col full-h">
        <app-filter [smColumns]="12" [mdColumns]="12" [lgColumns]="12" (filterChanged)="loadGatePasses($event)">
        </app-filter>

        <ui-form-layout class="flex-auto">
            <ng-container *ngFor="let gatepass of gatepasses">

                <ui-card [smColumns]="12" [mdColumns]="6" [lgColumns]="6" height="180px">

                    <ng-container card-main>

                        <ui-label [config]="{id: '', label: getGatePassUser(gatepass)?.name}"
                            [valueText]="getGatePassUser(gatepass)?.phoneNumber">
                        </ui-label>

                        <ui-label [config]="{id: '', label: 'OTP'}" [valueText]="gatepass.otp">
                        </ui-label>

                        <ui-label [config]="{id: '', label: 'Remarks'}" [valueText]="gatepass.remarks">
                        </ui-label>

                    </ng-container>

                    <div card-icon class="flex flex-end flex-gap flex-align-item-center">

                        <ui-button label="" type="only-content" (clicked)="showQR(gatepass)">
                            <app-icon name="qr-code"></app-icon>
                        </ui-button>

                        <app-icon class="delete" name="delete" color="#a60000" *ngIf="!gatepass.isAssignedBySociety"
                            (click)="deletePass(gatepass)">
                        </app-icon>
                    </div>

                </ui-card>

            </ng-container>

        </ui-form-layout>
    </div>

</app-layout>